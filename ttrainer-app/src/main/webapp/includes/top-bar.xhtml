<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:pe="http://primefaces.org/ui/extensions">

    <style type="text/css">
        #layout-menu_menu {
            z-index: 9997!important;
        }
        #layout-menu_menu span.ui-menuitem-text {
            margin-left: 2px;
        }

    </style>
    <ul class="nav navbar-nav">
        <li>
            <h:form prependId="false">
                <p:menuButton value="Layout" style="margin:10px 10px 0 0 " id="layout-menu">
                    <p:menuitem value="Left menu (default)" action="#{layoutMB.setDefaultTemplate()}" ajax="false" icon="fa fa-list-ul"/>
                    <p:menuitem value="Top menu" action="#{layoutMB.setTemplateTop()}" ajax="false" icon="fa fa-credit-card"/>
                </p:menuButton>
            </h:form>
        </li>
        <li class="dropdown user user-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <pe:gravatar id="userImage"
                             value="nonexisting"/>
                <span class="hidden-xs">#{logonMB.loggedUser.email}</span>
            </a>
            <ul class="dropdown-menu">
                <li class="user-header">
                    <div class="hidden-xs">
                        <pe:gravatar style="border-radius: 50%"
                                     value="#{logonMB.loggedUser.email}"/>
                    </div>
                    <p>
                        #{logonMB.loggedUser.name} - #{logonMB.loggedUser.email}
                        <small>#{logonMB.loggedUser.printRoles()}</small>
                    </p>
                </li>
                <li class="user-footer">
                    <h:form prependId="false">
                        <div class="pull-left">
                            <p:commandLink styleClass="btn btn-danger" value="User Settings" action="/logged-user?faces-redirect=true"/>
                        </div>
                        <div class="pull-right">
							<p:link href="/logout" title="Logoff" styleClass="fa fa-sign-out fa-2x" />
                        </div>
                    </h:form>
                </li>
            </ul>
        </li>

        <li>
           <p:link href="#" id="layout-setup" pt:data-toggle="control-sidebar" class="hidden-sm hidden-xs"><i class="fa fa-gears"></i></p:link>
        </li>

    </ul>

    <p:tooltip for="layout-setup" escape="false" position="top"
               showEvent="mouseover" hideEvent="mouseleave" style="width: 150px"
               value="Setup layout options."/>

</ui:composition>
